<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Memento Mori Progress</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #121212;
      color: #ffffff;
      text-align: center;
      margin: 20px;
    }
    .container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
    }
    .circle {
      width: 100px;
      height: 100px;
      position: relative;
    }
    .circle svg {
      transform: rotate(-90deg);
      width: 100%;
      height: 100%;
    }
    .circle .background {
      fill: none;
      stroke: #2e2e2e;
      stroke-width: 8;
    }
    .circle .progress {
      fill: none;
      stroke: #b49dc4;
      stroke-width: 8;
      stroke-linecap: round;
      stroke-dasharray: 283;
      stroke-dashoffset: 283;
      transition: stroke-dashoffset 1s ease;
    }
    .circle .label {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 14px;
    }
  </style>
</head>
<body>
  <h1>Memento Mori</h1>
  <div class="container">
    <div class="circle">
      <svg>
        <circle class="background" cx="50" cy="50" r="45"></circle>
        <circle class="progress" id="day-progress" cx="50" cy="50" r="45"></circle>
      </svg>
      <div class="label">
        <span id="day-label">0%</span><br />26th
      </div>
    </div>
    <div class="circle">
      <svg>
        <circle class="background" cx="50" cy="50" r="45"></circle>
        <circle class="progress" id="week-progress" cx="50" cy="50" r="45"></circle>
      </svg>
      <div class="label">
        <span id="week-label">0%</span><br />DO.
      </div>
    </div>
    <div class="circle">
      <svg>
        <circle class="background" cx="50" cy="50" r="45"></circle>
        <circle class="progress" id="month-progress" cx="50" cy="50" r="45"></circle>
      </svg>
      <div class="label">
        <span id="month-label">0%</span><br />DEZ.
      </div>
    </div>
    <div class="circle">
      <svg>
        <circle class="background" cx="50" cy="50" r="45"></circle>
        <circle class="progress" id="year-progress" cx="50" cy="50" r="45"></circle>
      </svg>
      <div class="label">
        <span id="year-label">0%</span><br />2024
      </div>
    </div>
  </div>

  <script>
    function setProgress(id, percent) {
      const circle = document.getElementById(id);
      const offset = 283 - (percent / 100) * 283;
      circle.style.strokeDashoffset = offset;
    }

    function updateProgress() {
      const now = new Date();

      // Jahr
      const startYear = new Date(now.getFullYear(), 0, 1);
      const endYear = new Date(now.getFullYear() + 1, 0, 1);
      const yearPercent = ((now - startYear) / (endYear - startYear)) * 100;
      document.getElementById("year-label").innerText = yearPercent.toFixed(0) + "%";
      setProgress("year-progress", yearPercent);

      // Monat
      const startMonth = new Date(now.getFullYear(), now.getMonth(), 1);
      const endMonth = new Date(now.getFullYear(), now.getMonth() + 1, 1);
      const monthPercent = ((now - startMonth) / (endMonth - startMonth)) * 100;
      document.getElementById("month-label").innerText = monthPercent.toFixed(0) + "%";
      setProgress("month-progress", monthPercent);

      // Woche
      const dayOfWeek = now.getDay();
      const weekPercent = (dayOfWeek / 7) * 100;
      document.getElementById("week-label").innerText = weekPercent.toFixed(0) + "%";
      setProgress("week-progress", weekPercent);

      // Tag
      const startDay = new Date(now.getFullYear(), now.getMonth(), now.getDate());
      const endDay = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1);
      const dayPercent = ((now - startDay) / (endDay - startDay)) * 100;
      document.getElementById("day-label").innerText = dayPercent.toFixed(0) + "%";
      setProgress("day-progress", dayPercent);
    }

    updateProgress();
    setInterval(updateProgress, 1000);
  </script>
</body>
</html>

